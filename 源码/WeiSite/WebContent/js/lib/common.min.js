define(function(){function r(G){if(G==null){return true}if(typeof(G)=="string"){if($.trim(G)=="undefined"||$.trim(G)==""){return true}}else{if(typeof(G)=="object"){for(var H in G){return false}return true}}return false}function v(G){if(r(G)){return""}else{return G}}function D(){var G=new Date();var H="";H=G.getFullYear()+"";H=H+(G.getMonth()+1)+"";H=H+G.getDate()+"";H=H+G.getHours()+"";H=H+G.getMinutes()+"";H=H+G.getSeconds()+"";return H}function y(H){var G=/^0?1[3|4|5|7|8][0-9]\d{8}$/;if(G.test(H)){return true}else{return false}}function q(G){if(!/^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/.test(G)){return false}else{return true}}function o(H){var G=/[u00-uff]/;return !G.test(H)}function w(H){var G=/^[A-Za-z0-9]+$/;return G.test(H)}function p(G){var H=str.match(/^[0-9]$|^([1-9])([0-9]){0,3}$|^10000$/);if(H==null){return false}return true}function z(H){var G=H.match(/[1-9]\d{5}(?!\d)/);if(G==null){return false}return true}function A(H){var G=H.match(/\d{3}-\d{8}|\d{4}-\d{7}/);if(G==null){return false}return true}function n(H){var G=H.match(/(^[\u4E00-\u9FA5]{1}[A-Z0-9]{6}$)|(^[A-Z]{2}[A-Z0-9]{2}[A-Z0-9\u4E00-\u9FA5]{1}[A-Z0-9]{4}$)|(^[\u4E00-\u9FA5]{1}[A-Z0-9]{5}[挂学警军港澳]{1}$)|(^[A-Z]{2}[0-9]{5}$)|(^(08|38){1}[A-Z0-9]{4}[A-Z0-9挂学警军港澳]{1}$)/);if(G==null){return false}return true}function t(H){var G=/^([1-9][\d]{0,7}|0)(\.[\d]{1,2})?$/;return G.test(H)}function s(G){var H=/^[A-Za-z0-9]+$/;return H.test(G)}function a(G){var J=G.length;var K=G.substring(0,3);var H=G.substring(J-4,J);var L="";for(var I=0;I<J-7;I++){L+="*"}return K+L+H}function m(L){var G={11:"北京",12:"天津",13:"河北",14:"山西",15:"内蒙古",21:"辽宁",22:"吉林",23:"黑龙江",31:"上海",32:"江苏",33:"浙江",34:"安徽",35:"福建",36:"江西",37:"山东",41:"河南",42:"湖北",43:"湖南",44:"广东",45:"广西",46:"海南",50:"重庆",51:"四川",52:"贵州",53:"云南",54:"西藏",61:"陕西",62:"甘肃",63:"青海",64:"宁夏",65:"新疆",71:"台湾",81:"香港",82:"澳门",91:"国外"};var K=0;var J="";if(!/^\d{17}(\d|x)$/i.test(L)){return false}L=L.replace(/x$/i,"a");if(G[parseInt(L.substr(0,2))]==null){return false}sBirthday=L.substr(6,4)+"-"+Number(L.substr(10,2))+"-"+Number(L.substr(12,2));var H=new Date(sBirthday.replace(/-/g,"/"));if(sBirthday!=(H.getFullYear()+"-"+(H.getMonth()+1)+"-"+H.getDate())){return false}for(var I=17;I>=0;I--){K+=(Math.pow(2,I)%11)*parseInt(L.charAt(17-I),11)}if(K%11!=1){return false}return true}function F(){this.id=this.createUUID()}F.prototype.valueOf=function(){return this.id};F.prototype.toString=function(){return this.id};F.prototype.createUUID=function(){var I=new Date(1582,10,15,0,0,0,0);var L=new Date();var N=L.getTime()-I.getTime();var O=F.getIntegerBits(N,0,31);var M=F.getIntegerBits(N,32,47);var K=F.getIntegerBits(N,48,59)+"2";var H=F.getIntegerBits(F.rand(4095),0,7);var J=F.getIntegerBits(F.rand(4095),0,7);var G=F.getIntegerBits(F.rand(8191),0,7)+F.getIntegerBits(F.rand(8191),8,15)+F.getIntegerBits(F.rand(8191),0,7)+F.getIntegerBits(F.rand(8191),8,15)+F.getIntegerBits(F.rand(8191),0,15);return O+M+K+H+J+G};F.getIntegerBits=function(L,M,H){var G=F.returnBase(L,16);var J=new Array();var K="";var I=0;for(I=0;I<G.length;I++){J.push(G.substring(I,I+1))}for(I=Math.floor(M/4);I<=Math.floor(H/4);I++){if(!J[I]||J[I]==""){K+="0"}else{K+=J[I]}}return K};F.returnBase=function(I,J){var K=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"];var H=null;if(I<J){H=K[I]}else{var L=""+Math.floor(I/J);var G=I-L*J;if(L>=J){H=this.returnBase(L,J)+K[G]}else{H=K[L]+K[G]}}return H};F.rand=function(G){return Math.floor(Math.random()*G)};function x(){var I=navigator.userAgent;var G=["Android","iPhone","SymbianOS","Windows Phone","iPad","iPod"];var H=true;for(var J=0;J<G.length;J++){if(I.indexOf(G[J])>0){H=false;break}}return H}var C="";$(function(){if(!$("header").hasClass("mui-bar-nav")){$(".mui-content").css("top","5px")}$(".mui-table-view li").on("tap",function(I){var G=$(this).attr("className");$(".mui-collapse-content").hide();$(".mui-table-view li").removeClass("mui-active");var J=$(this).index();var H=$(".mui-content").height();if(G.indexOf("mui-collapse")>-1){$(".mui-collapse-content").each(function(K){if(J==K){$(this).show()}});$(this).addClass("mui-active");$(".mui-content").iScroll("refresh")}if(G.indexOf("mui-active")>-1){$(".mui-collapse-content").each(function(K){if(J==K){$(this).hide()}});$(this).removeClass("mui-active");$(".mui-content").iScroll("refresh")}});$(".mui-collapse-content").on("tap",function(G){G.stopPropagation()});$("input").each(function(){$(this).on("tap",function(M){M.stopPropagation()});var G=$(this).attr("className");var H=$(this).attr("type");var J=$(this);if(H=="range"){var L=$('<span class="mui-tooltip mui-hidden"></span>');L.appendTo($(this.parentNode));$(this).on("change",function(){var S=$(this).val();var P=$(this).offset().left;var T=$(this).offset().width-30;var R=L.offset().width;var N=$(this).attr("max");var O=$(this).attr("min");var M=Math.abs(N-O);var Q=Math.abs(S)/M*T;L.css("left",(P+Q-R/2-18)+"px");L.html(S);L.removeClass("mui-hidden");setTimeout(function(){L.addClass("mui-hidden")},500)})}if(G=="mui-input-clear"){if(H=="text"){$(this).bind("input propertychange",function(){if(G=="mui-input-clear"&&H=="text"){var M="";if(J.val()==0){$(".mui-icon-clear").remove();return}var N=$(this.parentNode).html();if(!(N.indexOf("mui-icon mui-icon-clear")>-1)){M='<span class="mui-icon mui-icon-clear"></span>'}$(this).after(M);$(".mui-icon-clear").on("tap",function(){J.val("");$(".mui-icon-clear").remove()})}})}if(H=="search"){var K=$(this).attr("placeholder");$(this).attr("placeholder","");var I=[];I.push('<span class="mui-placeholder">');I.push('<span class="mui-icon mui-icon-search"></span>');I.push(K);I.push("</span>");$(this).after(I.join(""))}}if(G=="mui-input-speech mui-input-clear"){var K=$(this).attr("placeholder");$(this).attr("placeholder","");var I=[];I.push('<span class="mui-icon mui-icon-clear mui-hidden"></span>');I.push('<span class="mui-icon mui-icon-speech"></span>');if(H=="search"){I.push('<span class="mui-placeholder">');I.push('<span class="mui-icon mui-icon-search"></span>');I.push(K);I.push("</span>")}$(this).after(I.join(""))}});$(".mui-content .mui-switch").each(function(){$(this).on("tap swipeLeft swipeRight",function(H){if($(this).attr("auto")=="false"){return}else{var G=$(this).attr("className");switch(H.type){case"swipeLeft":$(this).removeClass("mui-active");H.stopPropagation();case"swipeRight":$(this).addClass("mui-active");H.stopPropagation();default:if($(this).hasClass("mui-active")){$(this).removeClass("mui-active")}else{$(this).addClass("mui-active")}H.stopPropagation()}}})});$(".mui-btn").highlight("mui-active");$(".mui-action-back").on("tap",function(){history.back()});$(".mui-tab-item").on("tap",function(){$(".mui-tab-item").removeClass("mui-active");$(this).addClass("mui-active");$(".mui-control-content").removeClass("mui-active");var G=$(this).attr("data-tab");$("#"+G).addClass("mui-active")})});var B="a1ffec4d11fa69d2f3b2f50434f919547b1b89e6b964eef663d8947c489344c7f7593384dd8bbedc45934e9c9ba153fd7ceb329f6ad4325a548d0bc5f25544260157c4b09d7d22610466566a6915064d7f6314f06c9b29e3fc478d2295c361afb2147cb7390985ea66afb7d69a9532a91e8cdebd7beae49ac560a83002f9e7e3",d="10001";var b=function(L){var G={url:null,type:"post",isEncrypt:true,timeout:0,data:null,dataType:"json",success:null,netTimeOut:"网络超时，请检查您的网络连接",error:null,complete:null},O,J;for(i in L){G[i]=L[i]}O=G.success;J=G.error;complete=G.complete;if(G.isEncrypt&&G.data!=null){var H=e();var N=new RSAKeyPair(d,"",B);var K=encryptedString(N,encodeURIComponent(H));var M=$.AESEncrypt(JSON.stringify(G.data),H,H);G.data={};G.data.param=encodeURIComponent(M);G.data.key=K}else{}if(!r(G.url)){var P=G.type;var I=G.dataType;if(!r(I)){I=I.toLowerCase()}if(!r(P)){P=P.toLowerCase()}$.ajax({url:G.url,type:P,data:G.data,timeout:G.timeout,dataType:I,success:function(Q,R,S){if($.isFunction(O)){O(Q,R,S)}},error:function(S,R,Q){if($.isFunction(J)){if(S.status==0){$.toast(G.netTimeOut)}J(S,R,Q)}},complete:function(R,Q){if($.isFunction(complete)){complete(R,Q)}}})}};function e(){var J="";var G=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"];for(var H=0;H<16;H++){var I=Math.ceil(Math.random()*36);J=J+(G[I-1])}return J}$.AESEncrypt=function(G,L,J){var M=CryptoJS.enc.Utf8.parse(G);var K=CryptoJS.enc.Utf8.parse(L);var I=CryptoJS.enc.Utf8.parse(J);var H=CryptoJS.AES.encrypt(M,K,{iv:I,mode:CryptoJS.mode.CBC,padding:CryptoJS.pad.Iso10126});return CryptoJS.enc.Base64.stringify(H.ciphertext)};$.AESDecrypt=function(G,L,J){var K=CryptoJS.enc.Utf8.parse(L);var I=CryptoJS.enc.Utf8.parse(J);var H=CryptoJS.AES.decrypt(G,K,{iv:I,mode:CryptoJS.mode.CBC,padding:CryptoJS.pad.Iso10126});return H.toString(CryptoJS.enc.Utf8)};function E(H,G){return H?H.replace(G||/[&<">'](?:(amp|lt|quot|gt|#39|nbsp);)?/g,function(I,J){if(J){return I}else{return{"<":"&lt;","&":"&amp;",'"':"&quot;",">":"&gt;","'":"&#39;"}[I]}}):""}function l(G){return G?G.replace(/&((g|l|quo)t|amp|#39);/g,function(H){return{"&lt;":"<","&amp;":"&","&quot;":'"',"&gt;":">","&#39;":"'"}[H]}):""}function c(G,H){var J={"M+":G.getMonth()+1,"d+":G.getDate(),"h+":G.getHours(),"m+":G.getMinutes(),"s+":G.getSeconds(),"q+":Math.floor((G.getMonth()+3)/3),S:G.getMilliseconds()};if(/(y+)/.test(H)){H=H.replace(RegExp.$1,(G.getFullYear()+"").substr(4-RegExp.$1.length))}for(var I in J){if(new RegExp("("+I+")").test(H)){H=H.replace(RegExp.$1,RegExp.$1.length==1?J[I]:("00"+J[I]).substr((""+J[I]).length))}}return H}function h(G,H){var I="";if(H==true||H==undefined){I="yyyy-MM-dd hh:mm:ss"}else{I="yyyy-MM-dd"}return f(G,I)}function k(G){return h(new Date(),G)}function j(H,G){return h(new Date(H),G)}function g(G,H){return f(new Date(G),H)}function f(G,H){if(G==undefined){G=new Date()}if(H==undefined){H="yyyy-MM-dd hh:mm:ss"}return c(G,H)}function u(){if(navigator.onLine){return true}else{return false}}$(window).on("online",function(){console.log("在线")});$(window).on("offline",function(){$.toast("网络已断开，请连接网络")});return{isNetworkAlive:u,isCardID:m,isEmpty:r,isNull:v,timeStamp:D,isChinese:o,isPostCode:z,isTell:A,isNumOrEn:w,isDigit:p,isMoney:t,isHuzhao:s,isCarId:n,cardDeal:a,UUID:F,isPC:x,isPhone:y,isEmail:q,submit:b,unhtml:E,html:l,getSmpFormatDate:h,getSmpFormatNowDate:k,getSmpFormatDateByLong:j,getFormatDateByLong:g,getFormatDate:f}});