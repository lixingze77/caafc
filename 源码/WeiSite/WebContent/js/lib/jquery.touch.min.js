(function(a){var k={},l,j,i,e=750,f;function g(m){return"tagName" in m?m:m.parentNode}function h(m,n,p,q){var o=Math.abs(m-n),r=Math.abs(p-q);return o>=r?(m-n>0?"Left":"Right"):(p-q>0?"Up":"Down")}function d(){f=null;if(k.last){k.el.trigger("longTap");k={}}}function c(){if(f){clearTimeout(f)}f=null}function b(){if(l){clearTimeout(l)}if(j){clearTimeout(j)}if(i){clearTimeout(i)}if(f){clearTimeout(f)}l=j=i=f=null;k={}}a(document).ready(function(){var n,m;a(document.body).bind("touchstart",function(o){n=Date.now();m=n-(k.last||n);k.el=a(g(o.target));l&&clearTimeout(l);k.x1=o.originalEvent.changedTouches[0].clientX;k.y1=o.originalEvent.changedTouches[0].clientY;if(m>0&&m<=250){k.isDoubleTap=true}k.last=n;f=setTimeout(d,e)}).bind("touchmove",function(o){c();k.x2=o.originalEvent.changedTouches[0].clientX;k.y2=o.originalEvent.changedTouches[0].clientY;if(Math.abs(k.x1-k.x2)>10){o.preventDefault()}if(Math.abs(k.y1-k.y2)>10){o.preventDefault()}}).bind("touchend",function(o){c();if((k.x2&&Math.abs(k.x1-k.x2)>30)||(k.y2&&Math.abs(k.y1-k.y2)>30)){i=setTimeout(function(){k.el.trigger("swipe");k.el.trigger("swipe"+(h(k.x1,k.x2,k.y1,k.y2)));k={}},0)}else{if("last" in k){j=setTimeout(function(){var p=a.Event("tap");p.cancelTouch=b;k.el.trigger(p);if(k.isDoubleTap){k.el.trigger("doubleTap");k={}}else{l=setTimeout(function(){l=null;k.el.trigger("singleTap");k={}},250)}},0)}}}).bind("touchcancel",b);a(window).bind("scroll",b)});["swipe","swipeLeft","swipeRight","swipeUp","swipeDown","doubleTap","tap","singleTap","longTap"].forEach(function(n){a.fn[n]=function(m){return this.bind(n,m)}})})(jQuery);