(function(a){a.fn.insertAtCaret=function(g){var b=a(this)[0];b.focus();var j=window.getSelection?window.getSelection():document.selection,i=j.createRange?j.createRange():j.getRangeAt(0);var d=navigator.userAgent.toLowerCase();var k="";if(/msie/i.test(d)&&!/opera/.test(d)){k="IE: "+d.match(/msie ([\d.]+)/)[1]}var c=k.split(":");var e=k.split(":")[0];var f=Number(k.split(":")[1]);if(e=="IE"&&f<9){i.pasteHTML(html)}else{var h=document.createElement("span");h.innerHTML=g;i.insertNode(h);j.addRange(i)}}})(jQuery);(function(a){var b;a.Dialog=function(l){var m={title:null,content:null,align:"left",container:null,type:"alert",submitName:"确定",cancelName:"取消",submit:undefined,cancel:undefined,load:undefined};b=this;var i=m;for(var k in i){if(typeof l[k]!="undefined"){i[k]=l[k]}}b.options=i;var j=[];f._init()};var f={_init:function(j){var i=b.options;this._create();var k=i.load;if(!k){this.open()}else{k.apply(f,arguments)}},_create:function(){var n=0,m,o,j=b.options;var l=a(j.container||document.body);var k=[];k.push('<div class="mui_dialog_'+j.type+'"  style="display: none;">');k.push('<div class="mui_mask"></div>');k.push('<div class="mui_dialog">');k.push(' <div class="mui_dialog_hd">');if(j.title){var o=j.title!==undefined;if(o){k.push('<strong class="mui_dialog_title">');k.push(j.title);k.push("</strong>")}}k.push("</div>");if(j.content){var p=j.content!==undefined;if(p){k.push(' <div class="mui_dialog_bd" align="'+j.align+'">');k.push(j.content);k.push("</div>")}}k.push('<div class="mui_dialog_ft">');if(j.type=="alert"){k.push('<a href="javascript:;" class="mui_btn_dialog primary">'+j.submitName+"</a>")}if(j.type=="confirm"){k.push('<a href="javascript:;" class="mui_btn_dialog default">'+j.cancelName+"</a>");k.push('<a href="javascript:;" class="mui_btn_dialog primary">'+j.submitName+"</a>")}k.push("</div>");k.push("</div>");k.push("</div>");b.wrap=a(k.join("")).appendTo(l);a(".mui_dialog_bd").css("text-align",j.align)},_eventHander:function(j){var l=b.options,k;var i=a(j.target).attr("class");if(i.indexOf("primary")>-1){k=l.submit}if(i.indexOf("default")>-1){k=l.cancel}k&&k.apply(f,arguments)},open:function(j,k){var i=b.options;b.wrap.css("display","block");a(".mui_btn_dialog").on("click",this._eventHander)},close:function(){var i,j=b.options;b.wrap.css("display","none");this.destroy()},destroy:function(){var i=b.options;a(".mui_btn_dialog").off("click",this._eventHander);b.wrap.remove()}};a.toast=function(i,j){j=j==null?2000:j;var l=a("<div class='mui_mask_transparent'><div>");l.appendTo(a("body"));var k=a('<div class="mui-toast-message">'+i+"</div>");k.appendTo(a("body"));setTimeout(function(){l.remove();k.remove()},j)};function e(w){var r=this.os={},l=this.browser={},x=w.match(/WebKit\/([\d.]+)/),i=w.match(/(Android)\s+([\d.]+)/),o=w.match(/(iPad).*OS\s([\d_]+)/),p=!o&&w.match(/(iPhone\sOS)\s([\d_]+)/),y=w.match(/(webOS|hpwOS)[\s\/]([\d.]+)/),v=y&&w.match(/TouchPad/),q=w.match(/Kindle\/([\d.]+)/),u=w.match(/Silk\/([\d._]+)/),k=w.match(/(BlackBerry).*Version\/([\d.]+)/),j=w.match(/(BB10).*Version\/([\d.]+)/),t=w.match(/(RIM\sTablet\sOS)\s([\d.]+)/),s=w.match(/PlayBook/),m=w.match(/Chrome\/([\d.]+)/)||w.match(/CriOS\/([\d.]+)/),n=w.match(/Firefox\/([\d.]+)/);if(l.webkit=!!x){l.version=x[1]}if(i){r.android=true,r.version=i[2]}if(p){r.ios=r.iphone=true,r.version=p[2].replace(/_/g,".")}if(o){r.ios=r.ipad=true,r.version=o[2].replace(/_/g,".")}if(y){r.webos=true,r.version=y[2]}if(v){r.touchpad=true}if(k){r.blackberry=true,r.version=k[2]}if(j){r.bb10=true,r.version=j[2]}if(t){r.rimtabletos=true,r.version=t[2]}if(s){l.playbook=true}if(q){r.kindle=true,r.version=q[1]}if(u){l.silk=true,l.version=u[1]}if(!u&&r.android&&w.match(/Kindle Fire/)){l.silk=true}if(m){l.chrome=true,l.version=m[1]}if(n){l.firefox=true,l.version=n[1]}r.tablet=!!(o||s||(i&&!w.match(/Mobile/))||(n&&w.match(/Tablet/)));r.phone=!!(!r.tablet&&(i||p||y||k||j||(m&&w.match(/Android/))||(m&&w.match(/CriOS\/([\d.]+)/))||(n&&w.match(/Mobile/))))}e.call(a,navigator.userAgent);a.__detect=e;a.loading=function(n,s){var k=a(document.body);s=s==null?"":s;n=n==null?"数据加载中":n;var l=[];l.push('<div  class="mui_loading_toast" >');l.push(' <div class="mui_mask_transparent"></div>');l.push('<div class="mui_toast">');l.push(' <div class="mui_loading">');l.push('<div class="mui_loading_leaf mui_loading_leaf_0"></div>');l.push('<div class="mui_loading_leaf mui_loading_leaf_1"></div>');l.push('<div class="mui_loading_leaf mui_loading_leaf_2"></div>');l.push('<div class="mui_loading_leaf mui_loading_leaf_3"></div>');l.push('<div class="mui_loading_leaf mui_loading_leaf_4"></div>');l.push('<div class="mui_loading_leaf mui_loading_leaf_5"></div>');l.push('<div class="mui_loading_leaf mui_loading_leaf_6"></div>');l.push('<div class="mui_loading_leaf mui_loading_leaf_7"></div>');l.push('<div class="mui_loading_leaf mui_loading_leaf_8"></div>');l.push('<div class="mui_loading_leaf mui_loading_leaf_9"></div>');l.push('<div class="mui_loading_leaf mui_loading_leaf_10"></div>');l.push('<div class="mui_loading_leaf mui_loading_leaf_11"></div>');l.push("</div>");l.push(' <p class="mui_toast_content">'+n+"</p>");l.push("</div>");l.push("</div>");k.append(l.join(""));var o=document.body.scrollHeight;var p=document.body.scrollWidth;if(o<a(window).height()){o=a(window).height()}if(p<a(window).width()){p=a(window).width()}var q=document.body,r=Math.round,m=a(".mui_loading_toast");var i=a(window);var j=function(){};if(a.os.ios&&document.activeElement&&/input|textarea|select/i.test(document.activeElement.tagName)){document.body.scrollLeft=0;setTimeout(j,200)}else{j()}if(s!=""){setTimeout(function(){m.remove()},s)}};a.loadclose=function(){var i=a(".mui_loading_toast");i.remove()};var c=a(document),d,h;function g(){if(d!=null){var i=d.attr("hl-cls");clearTimeout(h);d.removeClass(i).removeAttr("hl-cls");d=null;c.off("touchend touchmove touchcancel",g)}}a.fn.highlight=function(i){return this.each(function(){var j=a(this);j.off("tap");i&&j.on("touchstart",function(k){d=a(this);if(d){d.attr("hl-cls",i);h=setTimeout(function(){if(d!=null){d.addClass(i)}},100);c.on("touchend touchmove touchcancel",g)}})})};a.getQueryString=function(k){var l=document.location.search.slice(1),m=l.split("&");for(var j=0;j<m.length;j++){var n=m[j].split("=");if(n[0]==k){return n[1]}}return""};a.cookie=function(q,u,r){if(typeof u!="undefined"){r=r||{};if(u===null){u="";r.expires=-1}var o="";if(r.expires&&(typeof r.expires=="number"||r.expires.toUTCString)){var m;if(typeof r.expires=="number"){m=new Date();m.setTime(m.getTime()+(r.expires*1000))}else{m=r.expires}o="; expires="+m.toUTCString()}var s=r.path?"; path="+r.path:"";var n=r.domain?"; domain="+r.domain:"";var t=r.secure?"; secure":"";document.cookie=[q,"=",encodeURIComponent(u),o,s,n,t].join("")}else{var l=null;if(document.cookie&&document.cookie!=""){var k=document.cookie.split(";");for(var p=0;p<k.length;p++){var j=a.trim(k[p]);if(j.substring(0,q.length+1)==(q+"=")){l=decodeURIComponent(j.substring(q.length+1));break}}}return l}}})(jQuery);