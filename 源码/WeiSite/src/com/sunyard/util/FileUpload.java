/**************************************************************************
 * Copyright (c) 2013-2015 信雅达信息系统工程有限公司.
 * All rights reserved.
 * 
 * 项目名称：微客平台2.0项目
 * 版权说明：本软件属信雅达信息系统工程有限公司所有。                            
 ***************************************************************************/
package com.sunyard.util;

import java.awt.image.BufferedImage;
import java.io.ByteArrayInputStream;
import java.io.File;
import java.io.IOException;
import java.net.URLDecoder;
import java.text.SimpleDateFormat;
import java.util.Date;
import java.util.UUID;

import javax.imageio.ImageIO;
import javax.servlet.ServletException;
import javax.servlet.http.HttpServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;

import net.sf.json.JSONObject;

import org.apache.logging.log4j.LogManager;
import org.apache.logging.log4j.Logger;

import sun.misc.BASE64Decoder;

/**
 * @ClassName: FileUpload
 * @Description:
 * @author wxg xingg.wang@sunyard.com
 * @date 2015年5月14日 下午2:40:32
 * 
 */
public class FileUpload extends HttpServlet {
	public static final Logger log = LogManager.getLogger();

	protected void doGet(HttpServletRequest req, HttpServletResponse resp)
			throws ServletException, IOException {
		doPost(req, resp);
	}

	public void doPost(HttpServletRequest request, HttpServletResponse response)
			throws ServletException, IOException {
		JSONObject json = new JSONObject();

		try {
			String picdata = request.getParameter("picdata");

			picdata = URLDecoder.decode(picdata, "utf-8");

			String name = UUID.randomUUID().toString() + ".jpg";

			String savePath = request.getSession().getServletContext()
					.getRealPath("")
					+ "/upload/";

			uploadFile(picdata, name, savePath);
			json.put("code", 0);

		} catch (Exception e) {
			// TODO Auto-generated catch block
			e.printStackTrace();
			json.put("code", 1);
		}
		response.getWriter().write(json.toString());

	}

	/**
	 * 文件上传
	 * 
	 * @param fileData
	 * @param fileName
	 * @return
	 */
	public static String uploadFile(String fileData, String fileName, String imgPath) {
		// 在自己的项目中构造出一个用于存放用户照片的文件夹
		// 如果此文件夹不存在则创建一个
		File f = new File(imgPath);
		if (!f.exists()) {
			f.mkdir();
		}
		// 拼接文件名称，不存在就创建
		imgPath = imgPath + "/" + fileName;
		f = new File(imgPath);
		if (!f.exists()) {
			f.mkdir();
		}

		log.info("====文件保存的位置：" + imgPath);

		// 使用BASE64对图片文件数据进行解码操作
		BASE64Decoder decoder = new BASE64Decoder();
		try {
			if (fileData != null)
				fileData = fileData.replace("data:image/jpeg;base64,", "");
			// 通过Base64解密，将图片数据解密成字节数组
			byte[] bytes = decoder.decodeBuffer(fileData);
			// 构造字节数组输入流
			ByteArrayInputStream bais = new ByteArrayInputStream(bytes);
			// 读取输入流的数据
			BufferedImage bi = ImageIO.read(bais);
			// 将数据信息写进图片文件中
			ImageIO.write(bi, "jpg", f);// 不管输出什么格式图片，此处不需改动
			bais.close();
		} catch (IOException e) {
			log.error("e:{}", e);
		}
		return imgPath;
	}

	public static void main(String[] args) {
		// String data =
		// "data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wAARCAEsAZADASIAAhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQAAAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEAAwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSExBhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwDRpQaSlFdp54opaKSgYUoopRTAUUtJ2ozQA7NGaSigBaKbS0gFpKKWgBKKWloABRSZozQAuaM0lAoAdRRS0wEooooAUUYoFFAxDTTTjTSKBDTSU/FGKBDcUYp+KMUx2G4pQKXFGKQWEpMU/FGKB2GYpMVJikIoCwzFFKabTEFBopKAEpKWjFADSKQipMUhFAWIiKaRUpFJigViLbSbalxSEUCsPpaKSpGOoopccUxhS0UooASloxSgUBYSjFOxRigYgFLiiigAozSUhoELmjNNpaBC0UAUkskUCF5pFjQclmOMCgaTY7FKBVeK9jnGYI5pB2YJhT7hjgH8KtYpXHy2AClxRS0DEIpKU02mIWjNJSUALRSUtAgpcUoFLigdhuKXFLRQOwlJinYooGNops0scETSzOqRqMlmPArFm8U2aSbUjldQcFuFz7gdfzxSbS3C1zcpDVayv4r2HzY45lXsWTr9CMg1Z4PT8RSVSEnZPUbjJK7QwikxUmKNtWRYjxS7afijFA7Ee2jFPxSEUBYZRinUlADcUmKdRikFhmKQipKTFMVhuKUCnYpcUh2EApcUtLQFhMUuKWigdhKWikzQAtIaTNFAgzRSqhY8CuQ8U6jeRXcllvWOMAcRtncD6n+lZyrQjLkvr2LjTlJX6G7da5p1q+yS5BYdQgLY/EcUQ67pc5wl7GD/ALYK/wAxXnhcngnimgfNjP51HtWX7FHph1CxAz9tt/wlB/rVWbxDpsWQJmlfoEjQksfSsu203RLKJXuZ0u2x95pdqZ9gDk/iefSrNrqxmma10KzQE/fkRBEgHqSBk1zPGSk7U43NlhVFXm7E5udWvBvVE0m1HWS45kb6Kf8APvUdvEHl32Fo97N1+23rEID6qMc/gK0rfS1DCW9k+1TdfmHyL9F/qc1oV0041HrMxm4LSBSitLhvmvL2SQ/3Ih5aj8R8x/OrgGBilorZKxluRvPDE6pLNHGzfdDuFLfTPWn0k0Mc8TRTRrJG3VWGQaw7nSL3Tz52i3D7BybV2yD9M/19OtJtodkbtJisGx8UQvJ5GoRNbTKcMSDgH0x1FbsM0U+fJkV8DJCnJAppp7CcWhcUbakxRtpisMxRipNuKTFAWG4pcU7FGKBjHEmP3ZRT6su79M1FPc6qFKoLSRMfw7o2/DO4VYpDUSgpblKTWxRimkAAu5LyFiOS8ccif99IoI/EirC2X2qENa6oAv8AejXeD+bn+dS1SvdLtrws5DQzkY86E7H/ABI6/jXNUoVd4TN41Yfaic14jhu4bw2012JtnzqzHAxj07GsT92H6Et/eParuq6VLZXxSRjJu5Df3609L8IX94FkuwYITyFIwx/Pp+tTzcqtJ3YKPM/d2N3TZBJplqYxhfKUYznGBg1T1nVY7OBtrFpwPkCckH/CtldJht7dYDlokGFjX5Rj35yazNVW1hgKpAir6bcV52Hy6XtPaSdtb+Z2VcUuTlSuTaPqKapYicLskB2yJ6H/AAq9iuS8O3Yg1gwrxFcDaQexHI/w/GuvxXvo8vcbSU/FJimFhhpMVJik20gsRkUYqTbSbaAsR7aMVLijbQFiLFJipStJimFiOikpaQC0opMUuKAClpcUoFAWGGjFP20baAsMxS7adU9pF5kwz0Xmk3ZXBK7sQTypbW7OxwiKWY+w615fqV49/ezXLjBkbOPQdAPyr1ybTI5AyknawwUIyCPTFY0vgzTmyfKA+m7+hrxMPQq05ynUV2+p6U5wlFRjokeY0V2mp+DoYcGGTBJ6Zxgd+uaw38PXX9pxWcLCQSjIkxgKB1J+n+FdftFzcj3MuR8vN0G6Dok2sXB5Mdun+skx+g9/5V6BY2NvYWywW0YRB19WPqT3NPsrOGwtI7a3XbGg/EnuT71OBXbCCjq9zmlJyG4pcU7FGK0IsMxS4p2KXFAWG4oxTsUYoCxmavotrq0REq7JgMLKo5HsfUVwmoQ6ho9x9mnPAOUbAIYeoNenVU1PTYNUs2t7hf8Adfup9RWU4dYmkH0Zw9hqupS4EcsuPQOwA9+tWr69m+YysXOONx5H51RWCXSpri2nZo5ojwy9COxHsf61Bd3u8gFs+4PtxWdx9bIfDrF9ZTlrW4dUJyVPKn8OlddoPiSHVCLecLBd9lH3X+me/t/kcBJIDgLn8ajV2Rw6MVZTkEHBBoU2th8l9z2HFJisjw1rQ1ayVZiPtUfD/wC171tYrWnUU1dESg4vUZikIqTFJitLkWGbaekRYZPSpraDzpOfujk1ceMAYAxXn46vUhC1Lfub0oJu8jHuyLRftewMYBv5HQDrj3xmryXiTIHRtysMg9iKbNbGZHjPRwVP41y2hahs09YXcbosr1/KuDK5zkpKffqdFa2ljfupu+fl6k5rnNWuEkhZDJtY9AetP1PVI0hwuWyO/f8AOuPuZnkcscr3wOleytDkk76Is2cnlalbSn+CVW/WvSCOa8pWQjjNepQS+fbRTYx5iK+PqM1pF3ItYfSUtJVAFFFFIAxRijNBagYYoxSbqTdQApFNNBamlqBDMUoWpxHThHSuOxAFNOCGrGyk280XCxEEp2ypQtOC0XHYh20hWp8Um2i4WINtWrMbSxPtTNlMlk8lkA6tUyeg4rU1FIPHWoLp1XCgZY9AO3v9KgkuxBamU5Y9FUdWPQAe5PFSraMkZDtvmY7pHx1Pp9B0rhxFV0oNxV2bwjd6mNdROzncxcnnP+e1VbcPBcrIFyv3W46j/IropIlRcEZFUmjXccV4ClWjPne56HtIyhydB+30o20+Ncpj04p2yvrKdTngpdzyJRs7ERFJipCtJtrS5I0ClxTwtLtpXHYZikxUuyjZRcLEQWnBaeFp22i4WMPxDoEesQBkIjukXCP2I/un2/lXmt1by2lxJb3CFJYztZT2Nezba5zxV4aGqobu0AW8RcFeglA7fX0P4fTKcb6ouLseb0VqtZJAgSSP59o3hhgg9x7Y6Vn3KKk5VBx6VyxmpOyN5QcVdj7K4uLW4Wa1dkkU5BFesaddJf2MVymBvX5lH8LdxXlEQwRXdeCbrKyWxPBG4fUf5/SumC5dTnk7ux022kxU22lWPcwHqa05ibFm1j2QD1bmpCKdjtRXDNc25utCIqBzXk95I+k6zc27BlQO6qpPbPB/KvWmxXm3xGt9mp29yP8AlpGUOPVT/wDXH5VnRtCdkOa5kZVzO8n3mz644rOkYZz35FSwvuhzjOOtQzDOTxxXot6HJFWdmRorPIqIMsxwB716zHEIYkiX7sahB9AMV5NG7I4dThlOQ3vXrNpMLyzguVGBNGr49MjOKIGshaMU/bSha0IsRbaQip9tNK0rjsQGkIqVlphWmKxGaSpNtKEoCxCc00g1ZCCkZMUXCxPSimk0makokopoOacKAHCnYpop4pDExS7aWlFIAVazNcbyvs8g9SP0zWtWF4obIsohjLyE5PYAc/zqWNE+lubzVhHtJhs4w5OeN56D8s/lW7K+Diub8EkzQ6hdn/lrcEDnPQf/AF63pWyCe45rhqXlKyNltcrTSFj14qDHNSOOab71Dohzj4uGHvxU+KrjrU4bIrsoJxjymc9XcNoo2CnUtb3IsIEpdlOFKKm4DNtIVp5NNJpoBMUYozS0xCEUmMnFEkixruY8VRuNQ+zAM8Y808xx56D1P+A/+vUt2GlcxPGWlgSfa4jtDDD4A6+tcLJEI2POT3Jrt9Q1J7hX+0cxk7SGHy57j1rjryHypyoJKtyvriohCK2Q5ybe5AnWum8KSmLUIcfxNg/jxXMqOe9b/h9tl3EfQ55pz0RK+I9GzU1tzLn0FVkcSRq69GAIq3aDhj+FOfwlR3J6azYFONV5W4rmZqNmlCqa4H4gFnhtW7B2H6D/AArsp3JzXG+PAPslqcHPmHnt0rCP8RDexytp90c96llXKnj8KSzUso749qstHlTwK9SCujinK0jLbg16P4Ll87w7CvXyndP1z/7NXnlxGUY8dK7X4ez7rG8t+0ciuP8AgQx/7LULRm97q51eKAKdjNLWlyRu2mkVJmmMaSGRkUwipDSYpisMApwAo20EYoAXFNNIWpN2aBjzTaGam5zQJkq06og1O3UASCnA1Fupd1FhkwalDVBupc0rCJ9wrnvFk8ccKMT80atgYz97A/p+tbi5Y4HWuE8W3itNmN8lSRn/AAqZFI6XwNGYtBZyu3zpmcc544H9DW1JkL0+tZnhI/8AFN2vy4GDj3+Y81qSsNpzXFDWbZq/hRWY9jSd6CfWm5712JGRIKq6hdyWEkM5Ba2f5JAOqnsR+o/KrC9abe232zTp7fOC6HafQ9j+dLYGTxyLIiujBlYZBB4NP3V5zp2v3WmSkR4khzzEx4+oPY11mn+JdOv8KJvIlPHly/KfwPQ1aaZCdzcD0u+oCaTNOw7kxkppbNR5pwFOwDsmjdgE+lGB3OBVabzHbahCjuD3qWxpAZYyTI7ZCgkkcnArnL26MrsZdvIzncBg85yc8DjArW1E/Z7Now2WPU+vv+n6Vx2oXBdCu4kZxwc/h+p/wrOxUnZEWoXu4sIyyD+Hnnnsfbvjnkms1pCwCnnHSkkcsxZx8x65PXqT/n3qItkEAVWxna5YXb3NaOnS+W4I7msmNssOv9a0Lc7Tk/hgU7cxEvdZ6B4euPP08oxyYnK9ex5H88fhWkbo28qr1U9RXI+FL0pqTQMTidOBj+JeR+m6ugvH/wBKC+1S1pZmsXfU3PMVkDKcg1UnfiqtvMUGOq+lOlfdU+zLuQyPnk1zHjb5tKQkdJRj8jXRucVh+K41k0SYk42EMPzx/WsJU7TTHzaHH2hxBipPMbGaghbaqj1FLvAYZ6V3Rdkcso3bFuBui3elb3w/lI1S5gJwHh3fUhh/iawWO5MVb8Kzi28RWTnoz+X/AN9AgfqRUy3uaU9rHqQSkIxUgBpCtFyyImk60rrikUc0xC7KQpipQBQ3FK4yueKaTUrUgXNUIgamHOatGOmGIUXAr5ozTRSimSOzSjNIBThQA4U8LmkUU8UDG4xRSmlFAGbrl/8A2dp7OD88h2L/AFrzy5YzxuzHJ61t+N7/AMzURbKcC3Xn3Y4P8sVg782vPVv51La2Jad0z0nw3cGTQbM7dp8oD8uKvyPnFY3holNBtAePkJ/U1pls81hCCTNm9BCc0q801myPrQp7VrYkmHWpo84qFeTU6fdqXoM8v1Kzkg1m5tkjY4lOwAdQeR+lPGhahIufsp9eSM/zruNRKJejONzLuH4cf4VXh3zs21iu3qcgAfU1Dk7i5Ecnbtr2kkCEXKoP4CN6flyBW3YeL13CLU7ZoX6b0UkfivUfrWhcajaWgO+bz5eyx9Pxb/61ZsmuyM/7iOOIHjgZP51UXITsup0yzxmESgnYwyCRjj8elVp9YtoEJ3AnsOtcvcak88ZaabJUcA9PwrPaaSUuzHEajn8egrS5PMlsbv8Abc9zfIFGV3cAdOtdPbjyoDJM2WxliTXn2lzv/alqkTDDSquB7+tdhqd8UiESNknGcHOD14z+NQy4vS7M3WrtZGwBnr0Pp2/lXKXzMWdiVOeoXoPz+lad7dbvmzjcMbSeefT8qx5TvDEbVGBnpyc/5H4U0Q3dlZlYd/yOaZ3JqWQYzntzUPsO9DKRJEAXAzxWlEoGFP61StlBI7/yNW9/f0rSC0MKjuzSsJlt9StZQ+1VlUsScYXPP6ZrrdTPl6kFPdQa89M5Jx2rZtdYkma2Sc5aJfLDf3l7Z9x0qZq7TRVN2TTOuRuKkLZFVIHDoCOhqwOetBsIapalbm5sZoQoYuuME4q8eelNNDjcR5YhKrtbIZT0I6f55pHPet3xTpX2W5+1264hlPzj+63/ANesFx0qV2DqCtzz070I7wTJIhw6MGB9COn9KYODzTm6A/gaVyup7PbXMd3aw3MX3JkDrn0IzTya5jwPfm40Q27EbrZyo/3TyP13flXQF6pITFc0zOKQsTTd1WImElIXzUBegNk0WAn60vSmDpSMSKAJdwoyDUG5qXLUrAQKlPEdPHSincLCbBRtAp1NPWgB2cUbqbmgc0AO3UGRY42kdgqqCWY9APU0m01i+LLs2miyKv35z5QweRnr+GAR+IpN2QHAahcteXk9wwOZXZ8eg9PwFEKvM8VumNzkKCTxzWpb6R+9ggf/AF0zBX77V6n9AafoFp/xOpPM5+zZAGehz/8ArrIL3Oz0+3FrYw24O4xpgn1PerWMcdqhibipi3GMVaQxjf0pA1DHmm5psRaiPHNWEPGKqRsB1rI8ReIl01WtbU7rsj5m6iMf41m9WVsrj/EN1aCWJWm/fwktsXk4I6H0zwfwrn7vVZLjIyFQZwq9B/8AX96wxK0twPMcne3zMepz3qzPNFGCEGecE/WqtYzbbJPNaUsq7twz07f55qaOJ5WKxtgEnB/Ks9Z2IKk4HORwKtWMrAhhnjOCoz9Pagmwy8YxkwofmA5J9qqPKVjCDA9TnvV3U3XzshpCzDoyhcfkTUdlpqzSj7RII0HVc/Mf8KG9CktS94Yj/wBIkuHyVhXK89zx/n6VcvbgSNKzFS2ccHnHr/8AqqSUx2kCpCgVRgjv+J/z6VlTzBSpOCQOF6Y546fWkht20IZ5d27Mh564yT/9Y1V+9GeoY8A54xyfxP8An6LPJ/Fk8gcH9Kr529cqcdKolCTtk8Y9xiohyaGPNGai+pqlZFq2IGD1INPnl2xsAfm6Yz+tQQsB+dPn5VR1I64/z71rf3TJr3tRisR1P6VZR+n6VSUnJP8Ak1MGwtKLCUTptG1kRFYblsL0Vz/WupRgy5BrzNHJrY0jXJLEiOXMlv0x3T6e3tVAm1ozts/nTTUcFxHcwrLC4dGGQRTyaZRjeJnC6TNnqcAD6kVwjnBrsPFz4sY1H8Uw/ka41+tZyHEM560o6H1Ipgp3aouWzqPANyU1Se3LALNFkD1ZTx+hau9215X4cufsuv2UnAHmBDnsG+U/zr1PcauD0ExCKaRTyaYaskZjmnKtIBzUiqaLjHouakEYNJGCOtTKKhsBnkj0pGhqwBSkVHMx2M5Y2IpwhbNXAgpwSnzhYqCA96DBiruykKUucLFBoT6U3y+a0ClRmHmqUhWKojNcrrzfa/EMMOcxWUe9hjo7dvyANdo+2KN5G+6ilj9BXn9rM19cXl0PnknuCi4HLAABaG7gamg2XnXdxeOvywqUTjPzEZJHuBj/AL6NUbC3MeoXsx+9LID+ahv/AGauxtrP7JpggB+ZUOT/ALRyT+prnLdC1qk/eQ8+xAAxUhYuwtzVjgc1TjOOlTh8itUIVu2KaDjFDHFQu4QEk4AHJNJgVNb1hdMtMpg3D8Rg849/wrhZJZJXZ5GLOxyzE5JNS6netf38k5PyZwg9FHSqu6oGxytTmbjnk0+ws59Qu0trZN0jdfRR6n2r0bQfClnpwWd/9IucffYcL9B/Wi4WOe0DwjLeAXGoloIT92McOw9/QV11p4Y0WBcCxjc+smW/nWmsOKkVcUmCRXttI021cPBYW0bg5DiMbh+PWq+p6Hpd8jvdWyBsEmVPlYfiK0xVHWnKaXPjqy7fz4P6VBR59eTMreSeiKNoI5xgY/kP89Muc/Nj5h2HPPt9OlWLt8Nzwh9OuetUpeGO4cg55H04/wA4rYw3ZA7HqM8j1/z61G/HHXFOfGcDnnrTGPJ9M0maIaeT70ntS496Q1JZKh646/yqST7uffvUKZwcDjFPkztwKtbGbWo1Rgj09adljnA/Str+yhJAsQKq8afeI4Pc5xWS1tMsbSBN8a4LSRncBnpkjp+NTGQyEEg8VIr0zg0Yx05qkwepqaZqk2ny7oyWjJy8fY+/sa7O1vYru3SaFtyN0rzoMc81o6RqTWM+GJ8hz8w/un1qkybWNHxbISLdM8FmP5Y/xrmJK2vEU/nXMIznCE/mf/rVjOKiRURqj3xQThSMdaUc0jduevNSV1ERijBkJDA5B9DXtVrtubWG4QfLKiuPoRmvFehr13wVd/bfDVsSQXhzC2O208D/AL520r2HuaJgHpTfIq6VppWjnYWKogFL5YFTkYpjU+a4iHpTgTSEEmlANUIlU07NRhTTwtQxjhgUuaZRmpsMlHNLimKaeKTGhMUhFPpDSuFjK8RXBtdCvJl6qn/6/wBK5/wVYAwxSuMiFdwz/eb/AA5/StHxy5Gg+SrYaeZI/qCef5Vb8MQ+XpQfjEjsw+g4/mDV9CeppSZ8t+/ymuX0YG40N1Y5eGTJyc8EV1b4CMfQE1yfhMgRXERYFnQMQB02nB+vWjoHUB8pxUit0ouE2SEe9RbulaxZLJy1ZHiKYwaTMQcFsL+daW7A61k+KFLaNIRztZSfzob0A4vPFSWltNe3Mdvbpukc4AqIAuwVQSTwAO9d34W0gacnnS4NxIvP+yPSsWyzU0TR4NHtPLjw8rcySd2P+FdFaDNun4/zrLdtq+9alrxbR/7oNAyfFGKQNTqAErF8VPt0nGQN0g69+p/pW1XP+MDixhGCRvJOB6A/401uS9jgbshu7A/d5wd1UThX49egPb/Iq9cbmJAKsX5IOBVPo5ccZbAJ7ZrUxRXbpxwBx+PeomPNSSEZOB39elRHqfWpZrEUcDikpRQelIYqDLY9elaGm2/2nUYIyOAd7d+Bz/8AWqlFknJ7V0PhuABJ7gnJJ2Lx6cmrS0Ik9Tb020+033lf31Yfoa4S3Z4HJVmjlU8MpwQa9Q8NRZvJJSOFTj61yPjbw/LpmoSXsKlrO4YtkfwMeoP9Ky2ZVtCCGwi1bSkuV2x3QdkdgAFcjkZA4HBHI/8Ar1iyI8UjxyAq6nBU1teE5gwu7Uk5YCVfw4P8x+VWdX0wXkfmR8XKDj/poB2+vp+VNMGjmugzn8KdkFeRUfIbDAgjg5FPTr1q0xNCO7syBjkKNo+maa3NObB7UwnPXrQxoMYpWHAx/nk0E89O1Gfun/PWkA3/ADxXc/DS/KXV1p7MdsiiVATxkcH8SCPyrhuPatPw3emw16yuMgKJQrE9lPB/QmpaKPaKaRTqSsyhhFMK1KaTFO4rEYSlCVJiincLDQtKFpaWlcCHFGKbuo3VRI+nA1EDTgaGh3Jc0E1HmjdU2C5yfjedTe6XbHpueVvoBgf1rp9OhNtp9vCww6oNw/2u/wCua5TVQb/xzDBt3JDCisPYtuP6V1+6qa6CT1uM1BzHp9y69Vicj8jXJ+H5tmoW4AwssbRNnjnG4cfXP51va9P5enFB1ldYx+J/+tWLp9qz3Vo42sRKrZHsOT/MUW0Ddlq9GXb61RbOBWtqUZSc5HDCsyQYzVIGNVuKc8aTRtHIoZWGCD0NRA9PepVOQKZJWt9KsrSXfBborf3upH0z0rRg+QYxwKiHIwfxoV8cfyHIqWii5uzkmtuNdkSL6KBWFBmWZI/7zAHH610BFIYlKKSigB4rl/G7furVcKQN7HPtt/8Ar104Ncf43lJuYIgRhU3fiSf8KFuKWxyFySF2DI2EHGehFVJSMlflOOM4/l7VPMdsZwwz0HB9u9U5AAOvOOa1MkRu2c+nUVGRzT2IJ4GBTCeMdqhmqFBoGM0DOf1zSr159etCAcoOAPXgV2tjB9mtI4f7qgH69/1rlNOhM1/BGO75OR6c12UeXOODzjitVojN6s6Pw/H5do7kEF2/QVpyxxzxNFNGskbjDKwyCPpUVpD5FtHHj7q8/XvVgVzs1RlRaDp1nDOLKzjikkUjcBk+uMntXNSphyPeu7rkNVh8i9kXGBu4+h5FCE0c1q+lC5Vp4VxOOSB/H/8AXrnAeMV27njg/Wua1iyMUrXMYGxj8wHY1ZKM4e/5U0+38qM45zQxHp35p3GJnpipFHy4BxxzUQHWpoxntyRx/KiO4SGsuB7e3WmAc8VI+CT254FMFDBHt2l3LXmlWly+N00KO2OmSATVoVjeDpTN4VsGPZWX8mI/pW1WTLExRilopDCkozSUCCjNJmkzTArAGpFU0CnAirbJDbRilyKXNK4xhNGaU0oxnmncRyWgKbzxdq94cMsLmMH0I+UfpurrMVyvw9jZtOu7tzlp5+fw5/8AZq6vNK+oJGNrcYlu7KNj8vzkr69B/jVvSLbP+lPn5hhVPbmszUZWn10wjGUjCJn+8ef6j/IroGZbeJIweFGBQ9dCkV9SjVoyT1//AFVzkpxlT1rYvLsO2M9OlY17gOrfhWijaOpDepESRSq3OCeKiJP5ikLgdKQiw0gU5z7cmmJLuOWbvVcSA9TyaRHAOMnB5qWxm/o+ZbwHHCKST29K3qztFtvIsxIww8vzH2HYf59a0RUlIQiilNFAABXB+LZ9+sOo2nbhQc9OBwfxNd6DXmviksdYuiQc7/l5/AY9etVHcmexh3MgYjGCMfexgnnvVRsBxntUzL8vbJAJ68D1qJhgN6D2qyEQHjNIOvX8aeR1PFN9Kk0QdhTlpByPxqRR6A9eaaQmzS0KMnUl4yVVjjPtXa6PbeffoMfKp3H8Oa5Dw78ss0m0kBQvHrXofh2ELbvN3Y4/r/hVy0iRH4jYAopM0m6sDYfmsPxFb58ucdPun+n9a2d1RXkAurWSHoWHB9D2oBnCv15NQtEssZV13K2Qc+lWbmMxzMj5VlOD7c0zIx/KrMzj721ezuWhbkdVb1FQN0rqtRsf7QtyF/16coT3PpXKyK8bNHIpRlOCGGCKT0KWoLyOT1q4Ec6dDNj5FcoT78H+tU17evatvR4xc6XdwgfOp449cf8AxNXBX0JnormO5B6dDTBUkilSVZcEdR6VFUspbHqXw8nMvhsoekM7IPpgN/7Ma6euE+GVz8t9bM39yRF/MMf/AEGu7qHuULmjNNzRmlYBaSkzSZpiFNJSZozQBH360tUvti92FOF5H/eH51QFwClx71VW7jP8Q/OlNyv94UAWabOG+zybPvbDt+uKr/al9RS/a0GDuH50AZHgiNYvC9qehkLOf++iP5AVvgg1jWbx2Njb2qOCIY1TPrgdatJeJj7woS0AqxRqfE88jZ4wPyQH+tW7+6VgNves0zF9cYpIoBjJP4bf8PypbmUlyMYzn/8AVTitRN6FeeT5jzVWaTeUzzzSTyc56iqsk20Z7irk+hBPI6g4NVpJewxzVZ5y0nU0nmbjjniobFcsA4UnA9setbXh3ShdObq4/wBWhwqH+I+/tWNCA2MjjsK6zSJ0gsgrHBJzU2uWjYOBSZFVHvY/WoxfJnrRYov8U01XW6Qj7wprXSZ+8KEgLQ5OK818ROH1a6IwQZCfwzx/n3rv1uhskZcEojMPwFeY3b+deM5wSyjJxjBwP/r01uRLYqPgA5VuuORjH0/z6VXkIwV4wOcDipZGbaCM7efz71DIxIxk7VAwCa0IRER1z2703r1pTnOO9NzUM1Q5eWzUmMgenrTEH41ZgjeaZIgpYseQo5q4omTOh0KAR6d5nVnbOB6dP6V3+lLs06EdyMn865N4VgiSJPujAA/Cumiu0jgjjzyqgH8qqotEiae7L5IpQBWf9tTPWplukx94VjY1LR4pVqjJfRqcZzUkd2jDrSsBn+ItMM8ZuoFzIo+dR3HrXKMMNznjtXfG6QfxVzetaXuLT2IGDy0Q9fb/AAprQloxxcAHIHtWJ4lgxcpdpysg2t/vD/638q0NxyQw+YdR3FPuYFurNo5G+U/p709yUzllxx9a1vDcjJdSrkAMoOT65/8ArmsuaF7WUxyD8fUVe0J2ju3YDICYPH0/wqoP3kOXwsn1+1EN3vwNr+nrWMetbmuSB4YM5LDIyawm68U6m4qex0Hgi/Wx8QwbzhJwYWP16f8AjwFer14UjEMCCQQc5HWvZNO1BbywtrgkZliVjjsSOR+dZ2uaGhRUJmGOtMNyuetKwFiiq5uVHemm6X1p2As0VU+1L6il+1LjrTsI5nJPUmlGc9aaKXNQMcCfU07cf7xpoNFADwxPc0ZPqaaD3pfegYo60+mUuaAFsT/pshLLt8s8Y5znjn8D+dR3svzZFFpOd8voTtAB4IGMn68iql3KAzZ4x0rWOxEmVppcDJNU2kaTJJ4J9KkkPmY3evaosjBpGbYuRnkYqSML271Cew21PGuD70rAi7AnIVByT1rW6cDoOBVGxTLF/wC7wKu5pPsaxQ7J9aKbml7VJQ7cfU0ZzTAadmgCzZ8mZT0MLjnp0rzkMS5HQhRXfrIY0lZDz5T4/wC+TXn6KPtQViMFgDzjI/p0qomcx90dkCRgA7ck8c5PqeP896zn+nTtW5qiskQG9iABg7cdc9/wHFY7r3Hbt+f+FaW0JTIOhyeuKTPNK2BzikNZs1Q4HjvXQeFYlM807ctGML7Zrn1GBurc0DeEmCj5cgnnp+VaU9zOex0sbeddKhB4OT9P8irxzVHT1wXcjgcDH+fQVcLUqrux01oLmjJ9abuzRmsjQXNKGI6Eim5pCaAH7m65NHmN/eNMzTaAGXtpFdWruExPHzuXqw96xolwSjEFTwD71uo5jcNjOOo9RWXrNqbeYSwk7HGQfWmiJLqZVzb75DEU3Ixzlh0Oe1NhRLQBFx97+EckVcIF1bfN/rEPzepHY1SuHjVd+5iATwCeP881rExkVtUcmOI425ycZz371kMMH1rS1GbeVYElCOM8VQYZ6c4/WiepdPREY6iu68OTN/YtuAx+XcP/AB41w5XB9Tiur8Lzh7B4c8xvn8D/APXBrO2hqdAbiT++fzpvnyf3zUZ6U3NSBMbiT+8aaZ5D/GaiJpAcUASmZ/7xo+0SD+KoSaQ9KAFBpcmmj1xS9qAHg0hbJoGMUcHigBwNKDTKXcKAH9BmmySbY2bOMClzkVWvSfs+1RklgD9O/HfjPFADNOkzFMynA34Xj25qpdyZPBwf5Vat7eSCwVpOHdiSAPu+35YrL1KUQBnwWPRR7mtVsZSCSbHyqcnp9KYDhsZ59KyLZp2nXbvZnO04/L+tbF3Yz2KJLK6yI5wGXjB9CKm9w5WiRSAf61Yi+8MCqcDhu9amnxeZLuPRearZCWrNKFPLiVT1708U0nHNGe4rJm4+kzg0meBSmgBaWow2TT8cUAMuButLhScAwyDP/ATXGwK0moQmPOTk/L1HHNdddtixuj6Qv/6Ca57RIS9zuYHJBwMdcYyc/iKuOxnLcfqERdWH3cZI6ZbHQf5x/OsRwF3Z4GSDXReIJNgSPBCMv93GeMEZ7Hp+vtXPuQCQewOfTPf9a1Wxm9ynLwxA6E9fWo+SelSOwbOetCjvwePyrJq7Nk7IcBt4PUGtfQScT5xs4/MGsv1FbugRBo1A4Luc+uOCf5VpHRmUndHS26bbdB3Iyfxp+KB65ozg1i3d3N0rIMUtBajcM5xSAa7BR1xTDKgHLCobq2+0N80hUe1QjS4+MSOR7mkBdLqF3Z4qCK6jkJGaBbBeNxIqOWzjcg8rj0piZbJ44NKwS4tTDJ1XlDjP1FRKgUAA5p+dhUg8jkUDOYlkks7jgE7eHQ9x3qreR/vN0YLpJ83AH1/z71reJUWCJLmNQu8ncAOrYyT+g/OsHT7vfJ5EnAJ3RnPRvQ+xq0zFxZFMAIsZyOGT6Gq2SBitK+iAtwqdYjg/gSKoRo0rrGoG5jgDpzVMcHoI53fN6cc1peH7hodTjQHCygoR+o/XFZs0L207RzKVYdQeKu6IqnVLdWB+9kEeo5/pj8TU3uWdlk55opDnkigkkDHPrUDBzzim9O/WkJLNzS4BXrSAQnmg9KB1xSMc9OlAh3A6UCk4p2R2oGL2oHFGaMigAyaMDvRkUHFACg0+OSCLL3P+qH3jjoKjwfwpk6GW3miA+8hFMCvqOq2sdou11CxsQqKRn9K5O7vHutzNwo6AUt5GypHhDjBPTtVMknCjkn0qnLQlK+p03hWAGCa4YZDNsGe2P/11vXsKXOmSwSlVJO5WPABxUGm2gsLCKHuBlvdj1qLWOdPkUNgOQpOOmakrY5O2u3hmCH5h0612OnHfa71HeuEnZDcOYhtTcdo9u1dR4VmZ7SZSWZlcZ57EcfyNVzaWJ5dbm6cnGKGRiM5x7U4EYz09aGOCAfzqCyupuVlKkDZ2qUyyKwymR6ipN2SCSDSkYAIFAhu4kjjGafyOKYOp3YOKWFQvDOSM/jQMrakWSyuCRlDEwOOucEVm6CrSSx4TYegIHqQfx7Vqagf9EuTtDRCJjz14BNcx4dvZf7XDM3lxiJy7AfdUAkt+HNUnoS1qGrXK3WoSFMBQwCAdhnjjjsf0NZcjkKOe2Poef8aHl3F8ZAPTnmrmjWI1C9KysREoyxHYnoK0ctDNR11KtnaSXjska7tgLN9KkubC4syDIBtJOCDkZFdfBDaaYm2NQgbhnxy1ZPiOeNLeFIwNjSZPHU46/rUc2pbRgkAJ15yMe9dXoUAht0ZgCQnXvzz/AIVyhCvypBH8q6fSblJLT5GPBxyfYVpJ2iyFujYjfdngqB60GRRyWAFUNzupaEt83VuuaFhcg4uG5OADgVhc1uW0uBISBjHY5608TKMAmqSW0yDa85BPAIAqdbcqDmYyD1Ixg0BqSSXESqSf/wBdVlvxkh4nUHocZqdFBJQtlhzgihokyp3MSfyFAFafVYEAEZLHuMUh1FH2rGDk9T2FWWt4iMALjPJ9KX7NGiBAi9Oo5xQLUptfNCCWIYZ/hFL9raZSIiQf7xB4q0sUWzau3I4JHIp64C9fyWgZnuy3OjXVvcsZd2HjYDlWyBgfnXHTRy2lwM8MuGU/yNdteSxyQNHHtPJDAnGMf5H51ymqKZbuKBVw4+Tkj1456frQJbktzciRy4YEOoO3+6T1H61Vso2lvUVULNnO0Drjn+lM1AbLp48bdny46Yx2q74fDLPNMMF1Tam4E/MT/gDVuXQlRsrmpqWnXOpiNnKJKFwP8DWDGlxY3sRkRo5I3VsEfjXUDUgYzsgYOBgZ6H3qs15LMo861jIQ7gx5Psam47luOWeNpDIhZTyp/wDrUs1zIIyFRi3sKpRzPJLgTPnqyuuQfxqzLekIEQFHxgEJn+tIBY7t5IyPJdX6AnpTnuJwo2wnPeqa3VykOYlJkYYC792TmqUpuWIluPMBB4EZVuc+3fOOPrQI0TqqouZcRD0YYJqu0ySyiYXLSY+6EOB+VQRLJM7NKpKrxsKqTn1qKaxeVAyx3JA4JZRyc9Mce9AHTE96Acnimr054zzntSqueeOTj/8AVQUOzwKUZOcU3HHHalUMQMDORnNAxSMEAc9qcVySO/WmLwAeu3rxjNKBkZH3ccn2oAcfyB7dqXDKgzwOgFMDnGR0Hy89uaC7Fj04IzgetIDm5tUmstSuRDgZBR0bBUj0x3FQ/wBqWLSrK2mRpKGDbo3IHGOxz6Gt2e3jwStjAxPGZNp4POevqc1m36QG2IaCzDcbSihcnv8AdOfWmIv2muRXm7cMAHhcYPXgen8qL69tr7SbpLeQFlQtt6EY9q5WVYsAoChA+YLnDc9s+1KUEhHkCbeeoYZ/UUwKw6Vq6Jqf9mSybo96yAZw2CMUyLzZBvlsxK+clyD831xU0kmoSQfZxF5MXQpHER155ppA2dHFqtlIAfOEYYchiMin/wBr2IKoLlMt3PauPFjc7Sdko4zjaacumykZxJjGThTRyi5juXZVwdyr2PNMe5RUYiRSQOAOa5S3t5oB0Zh0BZSQKsv9qfGRIox0C8H35/zxS5WLnJJby9/tKSW1QlX455Bx+NXraeWNG85jgfeLNkg/0rP8y7Eilo3fAI2mPrk+1Ol1A27MpijSU8FcEFQf5UcrFzFrV7zytKlCKx3jaSSCOaw9Plgg06+lkaPz3URxoxOSDnJAHpwcn0p1zfX09r5E6qYyo7ZYkdDk81lMHGAVINFrFp3Jre2nuX2wRPIe5UdPqfwroNHtPJhby51bDHeQuBu6AZ/z1rmojLG25AwPtxWnaajfQLtTOwcgHBI+npT3E3Y6KdG2rvkh+duWZsAfQVz/AIlQJPAEk3psJHIODnn+lPl1HUgI3jkMYHOQMDj6deorPvZ7q4f/AEuVpivTnIUeg9B9KXK0CaZTro/CThnuYWIYsAVU9D1z/MVz23OMKeelKBID8oYYPpSsWd8jrDbEMyL1I2KSAfbHWmm4KogRfMHXjqpx39K4uN7wMWVpAT1O7rVuG61AxNG07AMR8xbn8+tPlZDlY6eS+ihGGLKc7Qu3OT7Uy7uDIBJBN5QgJZxtyXA5x+PH51zmyZw3mTyvnjqefTrTTbYJLMWPuDz+tPkZPtEb8+tWwtBcRsGd1+4OGP1qva6otxBIWkEZJ+ZeAR7jnmszykiVsRo7A5UEfypZpmkjKNbJGCc/u0VT+Yo5A5y0dQ8u5wlwzRkgNkYA56+pqcXSxZluFLGQ7kG3cZFwecE8Dp7n0rMRrlGDeexVCGUO/wB3H4e547+lV5I5SMySngjjce59+lHKHMjo4byGVRJLK8CxsMlgU28nAPXsDxWd9s01CC8ty+05BEhwf069KzWtJHXL725IGe5/qfxpTZLCQznG4cYYHvijlHzI1LzVNLktHtlSddwwWRySTnuDwR+NZEdxZW0oeK3acqcjzz8p/wCAj/E002a88sSOuenbvSLaJk7mbj0HeizHzIguJjcTvKyqpc5IUYA+lX7NxFZb0lXcGJ8sgE56ev8AnFRrbx5wFwRUi2zklViJ46BSfSnyic10NGCZVBxLF0wHGR+PAPrTmvIItuZRLjgElh/Ss/8As65ZcC0mPPAEZApGtZVIzDKpHHKmjlRN2Xvt6LNxAHX1EhGelCaim0hoPLB9Zdxz26/lVIWshy6xTAcc7Tx7dKj2PGud0qjupYjJp8qFdmtBflid25kwc7Iwf5VINRtFUCJJEAHAjABz69c1jCDKltv15OTTxbSDOIW44I2ng5+n+cUcqDmZqG7s5ZEYQSM3YlB1/OnQXlpDC0YSRRnO1snr94/Ws77FO7kfZpSzYHzISc/lUsGnTu8aspRXGRgBifw/+tRZDTkbvJjBUZTGFzkf56GlLHI5B3YXnHYkf4flUcbb5MFR83X9Kfn5QcDk46fSszQVjjblRllHB4LA4/pn9fWnl8lt6qcZY5PQD6/j+tQqdrlR6/zAp6Iu9GxkqwIz6nmgYp5RiM8AEnB9ece1LwW+dlSMEgs2Rj8P6Y7fkzaqA4Gdrqo7YBA9PrTLmZoRuUAkM4ye+AfSkBPsKhX3MABnBwQvPBJ/P2pAANysnIHOWyeemAevf8zTVAZEO0bnYjOOnA6UjH5QwGCUB6n1H/1vyoAkG1TlNrZII2jv/nH59qCjBQ+SA2fkI69TjHXt+lC4/drgYd9re444/U0W37wsvCg9gBxyB/WkAEHOAxZSeOOmTx/n+fZN67wMlGwflXOR16d+36inMORk5wq9hyMdPpQRi1RxgMzYJwPTr9aBkZUhPkILAklcZ/AkkdKc0cxYolxH5h5OYTknHTO7P/66i81jxwNgBB7mpGOY0OMFmxnr1FAhpFw7bxcINzHP7vv+ec/4+1N2SlwHuyu0EAiMc9xjJp5dnhdicYcgY9M4oEp2MFVVHythRgD2+lMLDSswO37ZKQMknC8cd+KT7MWdVN1cBiecSBTj1BxUsbErCe7Mcnr3I/pUqDfFCxJBk64J4yccUXFYqrZZIjlnuCW9ZGA6+3r0/Wom0ixdg5hLMV3NuZic9hjOfWrkSBpVB7t6D1IoIHlqOoUcfmaLjsiuun2mRsiRuwAOeemPzOKR7W13qot4mB7hQMn/APWPrVuRQHyMjcpB5oAzIuCV34yB9Pei7CxAtpCM7ECgf8tI0Xr6jIzSGLO1ftE4JG7gIQf/AB3P9KkTH2Vm2rgoxKkZBwvTntSliq7wTlWGMcfy60XAptpULFiZriTPK/MMEfl9f881E2jW4UM/nkYyoJxu/T0+lazFndAzHhuD6cUyNVkkRMbQRzj6/p+FHMw5UZo0iz2t+7kLDnOeDn06fWpBpVisYLw5cDONzDB9zn29PzrQQBTGRnLEZ59RQ6AIGBwS7A+/ANF2FkUf7Nstqjy1BPTDMf6+n9KRNNheRWEUZjMZbGW3BumM7iCOD6dqvIimXb6nB56/4dO1Nz+6L4GVYKOO3NF2LlRB9it2Xd5IGRhdoPTnHQ8nOaR9Pt3cb4wVY7QgUcd/zwcfh2q2CWdRuIwR369s/qaaGL5U9Oc4PXp/jRdjsis1rAY0DQRqzZDAD2+g568//Wp0sNnAhMsdvGCeS4UY9OvHWpGJ3eWTuVWKjIHT/Jp2cordCVHTjvRdhZEAt7coNtuiEjkCMcDoc5/yKfsgTCm2jYkDnaM5/Ed8nj/61SyqAuRwWOCevYetDjFw8YJ2rnA7cUXCxVks4XnOYEBC87jkDjHT0wT/AE9KI7KCItJFGFBJPzdz39vb86ki+YYwAMYwPpUm4iNn4zknoMHj0oAgMJOx1LIVJ6KDuGMEYP14+hp5yjNuGOduGXO7rz7GnNHiIsGIyoY/XrTEG4hiT8p2gZ460CDDnCq2UwBkP1A56jr17H+pEkly7LjKhVyQFXj/AB/L8aiAwWwT8u4D8BQW27sAfL+tGwCeWrSDLfMBuJK7gpHf8MD9KcnyECPIXO4jHHX8MZx/P60jE4znJBCjNKnMW/Jzkd/cj+lMBMFzmPJ3ElZDyQPXgf5H6KMrHjAQAYBL5HT1z6g8e+OeMm0I7KP7xXOe3+RSSHYgk6sACM9jkf4mkAKzHhssRjdgEE+mPrzSK0gG5NwJHGBx/npVGwupbjzfMI+RsDA69f8ACr2dxKtyOhz3pgNXAXB24xnHXoen6UqkswGDv3Zx19P8KYQBN5eAV9/rmpNuCDk5K5zn1/8A10CP/9k=";
		// String fileName = String.valueOf(System.currentTimeMillis()) +
		// ".jpeg";
		// String imgPath = "C:\\Users\\Public\\Desktop";
		// uploadFile(data, fileName, imgPath);
		Date date = new Date(System.currentTimeMillis());
		SimpleDateFormat dateformat = new SimpleDateFormat("yyyyMMdd");
		System.out.println(dateformat.format(date));
	}
}
